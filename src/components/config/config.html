<p ng-if="!ctrl.appModel.jsonData.apiKeySet">worldPing requires a Grafana.net account. <a class="highlight-word" href="//grafana.net/profile/api-keys" target="_blank">Generate a new API key</a> or <a class="highlight-word" href="//grafana.net/signup" target="_blank">sign up for free.</a></p>

<form name="editForm">
	<div class="gf-form-group">
		<div class="gf-form-inline">
			<div class="gf-form wp-inline-field-margin--right">
				<a class="gf-form-label width-12" href="//grafana.net/profile/api-keys" target="_blank"><img src="public/plugins/raintank-worldping-app/img/icon_grafana-net.svg" class="gnet-logo--inline">Grafana.net API Key</a>
				<input type="password" class="gf-form-input input-xlarge" ng-model="ctrl.appModel.secureJsonData.apiKey" ng-if="!ctrl.appModel.jsonData.apiKeySet" required>
				<input type="text" class="gf-form-input max-width-12" disabled="disabled" value="complete" ng-if="ctrl.appModel.jsonData.apiKeySet">
			</div>
			<div class="gf-form wp-inline-field-margin--right">
				<span class="gf-form-label width-12">Org Id</span>
				<input type="text" class="gf-form-input max-width-12" ng-model="ctrl.appModel.jsonData.OrgId">
			</div>
			<div class="gf-form">
				<a class="btn btn-danger btn-small" href="#" ng-click="ctrl.reset()" ng-if="ctrl.appModel.jsonData.apiKeySet">reset</a>
			</div>
		</div>
		<div ng-if="ctrl.appModel.jsonData.apiKeySet && ctrl.validKey" class="wp-enabled-box">
			<i class="icon-gf icon-gf-check wp-icon-success"></i> worldPing is enabled. <strong>Next up: </strong><a href="dashboard/db/worldping-home" class="external-link">Go to worldPing Home Dashboard</a>
		</div>
		<div ng-if="!ctrl.validKey && ctrl.errorMsg">
			<div class="alert alert-error"><div class="alert-title ng-binding">Error</div><div>{{ctrl.errorMsg}}</div></div>
		</div>
	</div>
	<div class="gf-form-group" ng-if="ctrl.appModel.jsonData.apiKeySet && ctrl.org">
		<h3 class="page-heading">Account Details</h3>
		<div class="gf-form">
			<span class="gf-form-label width-12">Org Name</span>
			<span class="gf-form-label width-12">{{ctrl.org.name}}</span>
		</div>
		<div class="gf-form">
			<span class="gf-form-label width-12">Org Slug</span>
			<span class="gf-form-label width-12">{{ctrl.org.slug}}</span>
		</div>
		<div class="gf-form">
			<span class="gf-form-label width-12">Org ID</span>
			<span class="gf-form-label width-12">{{ctrl.org.id}}</span>
		</div>
		<div class="gf-form">
			<span class="gf-form-label width-12">Plan</span>
			<span class="gf-form-label width-12">{{ctrl.org.wpPlan || 'Free'}}</span>
		</div>
		<div class="gf-form">
			<span class="gf-form-label width-12">Est. Checks/Mo</span>
			<span class="gf-form-label width-12">{{ctrl.org.strChecksPerMonth}}</span>
		</div>
	</div>
</form>
<div class="gf-form-group" id="destroy" ng-if="ctrl.appModel.jsonData.apiKeySet && ctrl.validKey">
	  <div class="wp-config-box--hit-area" ng-click="ctrl.showDisable = !ctrl.showDisable">
	    <div class="playlist-column-header section-header-flex-container">
	      <h3 class="page-headering">Disable All Endpoints</h3>
	      <div>
	        <a href="#">
	          <!-- Configure -->
	          <span class="highlight-word"> Expand</span>
	          <span><i class="fa fa-caret-down" ng-show="ctrl.showDisable"></i></span>
	          <span><i class="fa fa-caret-right rt-box-accordian-control" ng-hide="ctrl.showDisable"></i></span>
	        </a>
	      </div>
	    </div>
	  </div>
	  <form name="disalbeEndpointsForm">
	    <div class="wp-config-box rt-page-box" id="destroy" ng-class="{ 'destroy-open': ctrl.showDisable }">
	      <div>
	          <div class="gf-form">
	            <i class="icon-gf icon-gf-skull inline-icon"></i>
	            <h3 class="inline-header">Disable all endpoint</h3>
	          </div>
	          <div class="endpoint-config-left-margin">
	            <p>Type DISABLE to confirm:</p>
	            <div class="gf-form">
	              <input class="gf-form-input max-width-21" type="text" required pattern="^[dD][iI][sS][aA][bB][lL][eE]$" ng-model="verifyDisable">
	            </div>
	            <div class="gf-form-button-row">
	              <button type="submit" class="btn btn-danger" ng-disabled="disalbeEndpointsForm.$invalid" ng-click="ctrl.disableEndpoints()">Disable</button>
	              <a class="btn btn-link" ng-click="ctrl.showDisable = !ctrl.showDisable">Cancel</a>
	            </div>
	          </div>
	      </div>
	    </div>
	  </form>
	</div>
